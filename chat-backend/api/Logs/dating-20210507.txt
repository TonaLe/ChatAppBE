2021-05-07T21:08:16.8428010+07:00  [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:08:21.2911978+07:00  [INF] Executed DbCommand ("2,340"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [ChatApp];" (0723d8ff)
2021-05-07T21:08:22.0313436+07:00  [INF] Executed DbCommand ("736"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ChatApp] SET READ_COMMITTED_SNAPSHOT ON;
END;" (0723d8ff)
2021-05-07T21:08:22.0779514+07:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:08:22.2714462+07:00  [INF] Executed DbCommand ("80"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);" (0723d8ff)
2021-05-07T21:08:22.2880533+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:08:22.3814128+07:00  [INF] Executed DbCommand ("73"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:08:22.3935139+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2021-05-07T21:08:22.4256904+07:00  [INF] Applying migration '"20210222134539_InitialCreate"'. (0e2ac64d)
2021-05-07T21:08:22.5069868+07:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);" (0723d8ff)
2021-05-07T21:08:22.5589570+07:00  [INF] Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210222134539_InitialCreate', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:22.5918689+07:00  [INF] Applying migration '"20210301134759_UserPasswordAdded"'. (0e2ac64d)
2021-05-07T21:08:22.7196043+07:00  [INF] Executed DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [PasswordHash] varbinary(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.7227443+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [PasswordSalt] varbinary(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.7244055+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210301134759_UserPasswordAdded', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:22.7258652+07:00  [INF] Applying migration '"20210317141316_ExtendedUserEntity"'. (0e2ac64d)
2021-05-07T21:08:22.7668294+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [City] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.7682010+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [Country] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.8519163+07:00  [INF] Executed DbCommand ("83"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [Created] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';" (0723d8ff)
2021-05-07T21:08:22.8579865+07:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [DateOfBirth] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';" (0723d8ff)
2021-05-07T21:08:22.8622598+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [Gender] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.8663865+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [Interests] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.8704737+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [Introduction] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.8744202+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [KnownAs] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.8913857+07:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [LastActive] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';" (0723d8ff)
2021-05-07T21:08:22.8974860+07:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] ADD [LookingFor] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:22.9099094+07:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Photos] (
    [Id] int NOT NULL IDENTITY,
    [Url] nvarchar(max) NULL,
    [IsMain] bit NOT NULL,
    [PublicId] nvarchar(max) NULL,
    [AppUsersId] int NOT NULL,
    CONSTRAINT [PK_Photos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Photos_Users_AppUsersId] FOREIGN KEY ([AppUsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:22.9653529+07:00  [INF] Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Photos_AppUsersId] ON [Photos] ([AppUsersId]);" (0723d8ff)
2021-05-07T21:08:22.9661330+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210317141316_ExtendedUserEntity', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:22.9669641+07:00  [INF] Applying migration '"20210326134439_AddIdentity"'. (0e2ac64d)
2021-05-07T21:08:23.0344274+07:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Photos] DROP CONSTRAINT [FK_Photos_Users_AppUsersId];" (0723d8ff)
2021-05-07T21:08:23.0649231+07:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] DROP CONSTRAINT [PK_Users];" (0723d8ff)
2021-05-07T21:08:23.4381572+07:00  [INF] Executed DbCommand ("373"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'PasswordSalt');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] DROP COLUMN [PasswordSalt];" (0723d8ff)
2021-05-07T21:08:24.3226348+07:00  [INF] Executed DbCommand ("884"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[Users]', N'AspNetUsers';" (0723d8ff)
2021-05-07T21:08:24.3848468+07:00  [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[AspNetUsers].[Username]', N'UserName', N'COLUMN';" (0723d8ff)
2021-05-07T21:08:24.4756356+07:00  [INF] Executed DbCommand ("90"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'UserName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [UserName] nvarchar(256) NULL;" (0723d8ff)
2021-05-07T21:08:24.5265479+07:00  [INF] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'PasswordHash');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [PasswordHash] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:24.5299493+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [AccessFailedCount] int NOT NULL DEFAULT 0;" (0723d8ff)
2021-05-07T21:08:24.5320512+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [ConcurrencyStamp] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:24.5338786+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Email] nvarchar(256) NULL;" (0723d8ff)
2021-05-07T21:08:24.5360089+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [EmailConfirmed] bit NOT NULL DEFAULT CAST(0 AS bit);" (0723d8ff)
2021-05-07T21:08:24.5382449+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [LockoutEnabled] bit NOT NULL DEFAULT CAST(0 AS bit);" (0723d8ff)
2021-05-07T21:08:24.5396874+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [LockoutEnd] datetimeoffset NULL;" (0723d8ff)
2021-05-07T21:08:24.5409552+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [NormalizedEmail] nvarchar(256) NULL;" (0723d8ff)
2021-05-07T21:08:24.5425275+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [NormalizedUserName] nvarchar(256) NULL;" (0723d8ff)
2021-05-07T21:08:24.5442326+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [PhoneNumber] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:24.5463279+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [PhoneNumberConfirmed] bit NOT NULL DEFAULT CAST(0 AS bit);" (0723d8ff)
2021-05-07T21:08:24.5473962+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [SecurityStamp] nvarchar(max) NULL;" (0723d8ff)
2021-05-07T21:08:24.5492849+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [TwoFactorEnabled] bit NOT NULL DEFAULT CAST(0 AS bit);" (0723d8ff)
2021-05-07T21:08:24.5826616+07:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id]);" (0723d8ff)
2021-05-07T21:08:24.5841556+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);" (0723d8ff)
2021-05-07T21:08:24.5861222+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:24.6327484+07:00  [INF] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:24.6357754+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:24.6388225+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:24.6420735+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2021-05-07T21:08:24.6440187+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);" (0723d8ff)
2021-05-07T21:08:24.6901524+07:00  [INF] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;" (0723d8ff)
2021-05-07T21:08:24.6936165+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);" (0723d8ff)
2021-05-07T21:08:24.6976687+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;" (0723d8ff)
2021-05-07T21:08:24.7008075+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);" (0723d8ff)
2021-05-07T21:08:24.7035649+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);" (0723d8ff)
2021-05-07T21:08:24.7061443+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);" (0723d8ff)
2021-05-07T21:08:24.7101181+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Photos] ADD CONSTRAINT [FK_Photos_AspNetUsers_AppUsersId] FOREIGN KEY ([AppUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;" (0723d8ff)
2021-05-07T21:08:24.7118067+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210326134439_AddIdentity', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:24.7143493+07:00  [INF] Applying migration '"20210407141120_addLikes"'. (0e2ac64d)
2021-05-07T21:08:24.7497638+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Likes] (
    [LikedUserId] int NOT NULL,
    [SourceUserId] int NOT NULL,
    CONSTRAINT [PK_Likes] PRIMARY KEY ([SourceUserId], [LikedUserId]),
    CONSTRAINT [FK_Likes_AspNetUsers_LikedUserId] FOREIGN KEY ([LikedUserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Likes_AspNetUsers_SourceUserId] FOREIGN KEY ([SourceUserId]) REFERENCES [AspNetUsers] ([Id])
);" (0723d8ff)
2021-05-07T21:08:24.7685364+07:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Likes_LikedUserId] ON [Likes] ([LikedUserId]);" (0723d8ff)
2021-05-07T21:08:24.7690757+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210407141120_addLikes', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:24.7699102+07:00  [INF] Applying migration '"20210419131537_addMessages"'. (0e2ac64d)
2021-05-07T21:08:24.8214975+07:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Messages] (
    [Id] int NOT NULL IDENTITY,
    [SenderId] int NOT NULL,
    [SenderUsername] nvarchar(max) NULL,
    [RecipientId] int NOT NULL,
    [RecipientUsername] nvarchar(max) NULL,
    [Content] nvarchar(max) NULL,
    [DateRead] datetime2 NULL,
    [MessageSent] datetime2 NOT NULL,
    [SenderDeleted] bit NOT NULL,
    [RecipientDeleted] bit NOT NULL,
    CONSTRAINT [PK_Messages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Messages_AspNetUsers_RecipientId] FOREIGN KEY ([RecipientId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Messages_AspNetUsers_SenderId] FOREIGN KEY ([SenderId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2021-05-07T21:08:24.8232314+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Messages_RecipientId] ON [Messages] ([RecipientId]);" (0723d8ff)
2021-05-07T21:08:24.8247180+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Messages_SenderId] ON [Messages] ([SenderId]);" (0723d8ff)
2021-05-07T21:08:24.8253104+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210419131537_addMessages', N'5.0.3');" (0723d8ff)
2021-05-07T21:08:25.1995737+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:08:25.4341774+07:00  [INF] Executed DbCommand ("39"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.4488545+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.6939211+07:00  [INF] Executed DbCommand ("72"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:25.7892309+07:00  [INF] Executed DbCommand ("34"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.7903027+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.7966747+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:25.8549944+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.8559094+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2021-05-07T21:08:25.8573143+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.0437831+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.2495183+07:00  [INF] Executed DbCommand ("60"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.2715132+07:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.2966960+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.3386821+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.3441279+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.3910137+07:00  [INF] Executed DbCommand ("28"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.4191175+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.5178796+07:00  [INF] Executed DbCommand ("94"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.5657749+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.5699790+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.5710712+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.5731493+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.5765526+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.5776850+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.5792686+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.5811073+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.5820250+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.5990464+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6013417+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6022691+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6040878+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6066819+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.6076866+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6089119+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6108131+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.6120191+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.6292173+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6319220+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6330954+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6352248+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6378470+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.6389661+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6404555+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6426931+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.6440094+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.6614755+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6640832+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6652141+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6672331+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6698800+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.6711299+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.6726215+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6747305+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.6758873+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.6931918+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.6958712+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6967359+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.6985443+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7004118+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.7012990+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7026925+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.7042995+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.7050467+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.7168727+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.7192491+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.7200915+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.7218907+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7237705+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.7246324+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7257411+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.7276538+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.7284102+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.7684381+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.7716092+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.7729113+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.7750801+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7784689+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.7797239+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.7812946+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.7837794+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.7850022+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.8090943+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8119049+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.8129769+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.8148308+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8173428+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.8182323+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8194456+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8219180+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.8228426+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.8350655+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8371810+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.8380219+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Photos] ([AppUsersId], [IsMain], [PublicId], [Url])
VALUES (@p24, @p25, @p26, @p27);
SELECT [Id]
FROM [Photos]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.8395563+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8411771+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.8419896+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8431080+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8447941+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.8455772+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.8598355+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8622307+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:08:26.8637473+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8653547+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.8661239+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8671646+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8688435+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.8695454+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.8709112+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8725447+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:08:26.8732758+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:08:26.8743210+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:08:26.8759693+07:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:08:26.8768735+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:08:26.9397924+07:00  [INF] User profile is available. Using '"C:\Users\NguyenKhanh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-05-07T21:08:28.2030936+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-05-07T21:08:28.2032524+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2021-05-07T21:08:28.2035740+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-05-07T21:08:28.2036097+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-05-07T21:08:28.2036685+07:00  [INF] Content root path: "C:\Users\NguyenKhanh\Desktop\ChatApp\ChatAppBE\chat-backend\api" (b5d60022)
2021-05-07T21:08:56.8477345+07:00  [INF] Application is shutting down... (90f52c38)
2021-05-07T21:09:08.2371691+07:00  [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:09:09.0276040+07:00  [INF] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:09:09.0796901+07:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:09:09.0853250+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:09:09.0863813+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:09:09.1028826+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2021-05-07T21:09:09.1319230+07:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2021-05-07T21:09:09.4025217+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:09:09.4273036+07:00  [INF] User profile is available. Using '"C:\Users\NguyenKhanh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-05-07T21:09:09.6390418+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-05-07T21:09:09.6391781+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2021-05-07T21:09:09.6393703+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-05-07T21:09:09.6394197+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-05-07T21:09:09.6394844+07:00  [INF] Content root path: "C:\Users\NguyenKhanh\Desktop\ChatApp\ChatAppBE\chat-backend\api" (b5d60022)
2021-05-07T21:15:43.6505670+07:00 0HM8HCACPFVL8:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:15:43.7825902+07:00 0HM8HCACPFVL8:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:15:43.8070200+07:00 0HM8HCACPFVL8:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 204 - - 174.9957ms (791a596a)
2021-05-07T21:15:43.8096361+07:00 0HM8HCACPFVL8:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:15:43.8102887+07:00 0HM8HCACPFVL8:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:15:45.3745837+07:00 0HM8HCACPFVL8:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T21:15:45.4093359+07:00 0HM8HCACPFVL8:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:15:45.6041488+07:00 0HM8HCACPFVL8:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:15:46.1569430+07:00 0HM8HCACPFVL8:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:15:46.8125525+07:00 0HM8HCACPFVL8:00000003 [INF] Executed DbCommand ("53"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:15:47.0751026+07:00 0HM8HCACPFVL8:00000003 [INF] Executed DbCommand ("130"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:15:47.1745279+07:00 0HM8HCACPFVL8:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:15:47.2265015+07:00 0HM8HCACPFVL8:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 1612.6909ms (afa2e885)
2021-05-07T21:15:47.2273830+07:00 0HM8HCACPFVL8:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:15:47.2358671+07:00 0HM8HCACPFVL8:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 200 - application/json;+charset=utf-8 3426.1608ms (791a596a)
2021-05-07T21:19:09.3637596+07:00 0HM8HCACPFVL9:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - (ca22a1cb)
2021-05-07T21:19:09.3821838+07:00 0HM8HCACPFVL9:00000002 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:09.4448461+07:00 0HM8HCACPFVL9:00000002 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - - 204 - - 81.1588ms (791a596a)
2021-05-07T21:19:09.4843396+07:00 0HM8HCACPFVL9:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 44 (ca22a1cb)
2021-05-07T21:19:09.4891510+07:00 0HM8HCACPFVL9:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:09.4934483+07:00 0HM8HCACPFVL9:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T21:19:09.4946896+07:00 0HM8HCACPFVL9:00000003 [INF] Executing endpoint '"api.Controllers.AccountController.Login (api)"' (500cc934)
2021-05-07T21:19:09.5289164+07:00 0HM8HCACPFVL9:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Login(api.DTO.LoginDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:19:09.7276353+07:00 0HM8HCACPFVL9:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:19:09.9028305+07:00 0HM8HCACPFVL9:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=["@__loginDto_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[AccessFailedCount], [t].[City], [t].[ConcurrencyStamp], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[LookingFor], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [p].[Id], [p].[AppUsersId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__loginDto_Username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUsersId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-05-07T21:19:10.3400667+07:00 0HM8HCACPFVL9:00000003 [INF] Executed DbCommand ("36"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T21:19:10.3775452+07:00 0HM8HCACPFVL9:00000003 [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T21:19:10.3855585+07:00 0HM8HCACPFVL9:00000003 [INF] Executed action "api.Controllers.AccountController.Login (api)" in 856.1839ms (afa2e885)
2021-05-07T21:19:10.3856643+07:00 0HM8HCACPFVL9:00000003 [INF] Executed endpoint '"api.Controllers.AccountController.Login (api)"' (99874f2b)
2021-05-07T21:19:10.3878846+07:00 0HM8HCACPFVL9:00000003 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 44 - 200 - application/json;+charset=utf-8 905.0846ms (791a596a)
2021-05-07T21:19:10.4402693+07:00 0HM8HCACPFVLA:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:10.4403663+07:00 0HM8HCACPFVLA:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:10.4405933+07:00 0HM8HCACPFVLA:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 204 - - 0.3198ms (791a596a)
2021-05-07T21:19:10.4451331+07:00 0HM8HCACPFVLA:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:10.4452765+07:00 0HM8HCACPFVLA:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:10.4603832+07:00 0HM8HCACPFVLA:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T21:19:10.4604871+07:00 0HM8HCACPFVLA:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:19:10.4607102+07:00 0HM8HCACPFVLA:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:19:10.4625973+07:00 0HM8HCACPFVLA:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:19:10.4731783+07:00 0HM8HCACPFVLA:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:19:10.4836446+07:00 0HM8HCACPFVLA:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:19:10.4842320+07:00 0HM8HCACPFVLA:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:19:10.4846537+07:00 0HM8HCACPFVLA:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 23.8554ms (afa2e885)
2021-05-07T21:19:10.4847172+07:00 0HM8HCACPFVLA:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:19:10.4848428+07:00 0HM8HCACPFVLA:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 200 - application/json;+charset=utf-8 39.7040ms (791a596a)
2021-05-07T21:19:21.2862817+07:00 0HM8HCACPFVLA:00000005 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:21.2864630+07:00 0HM8HCACPFVLA:00000005 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:21.2867275+07:00 0HM8HCACPFVLA:00000005 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 204 - - 0.4343ms (791a596a)
2021-05-07T21:19:21.2901265+07:00 0HM8HCACPFVLA:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:21.2904343+07:00 0HM8HCACPFVLA:00000007 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:21.2907565+07:00 0HM8HCACPFVLA:00000007 [INF] Successfully validated the token. (60169667)
2021-05-07T21:19:21.2908342+07:00 0HM8HCACPFVLA:00000007 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:19:21.2909502+07:00 0HM8HCACPFVLA:00000007 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:19:21.2965426+07:00 0HM8HCACPFVLA:00000007 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:19:21.2982189+07:00 0HM8HCACPFVLA:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:19:21.3756444+07:00 0HM8HCACPFVLA:00000007 [INF] Executed DbCommand ("77"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:19:21.3759979+07:00 0HM8HCACPFVLA:00000007 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:19:21.3762320+07:00 0HM8HCACPFVLA:00000007 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 85.2416ms (afa2e885)
2021-05-07T21:19:21.3762949+07:00 0HM8HCACPFVLA:00000007 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:19:21.3764558+07:00 0HM8HCACPFVLA:00000007 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 200 - application/json;+charset=utf-8 86.3796ms (791a596a)
2021-05-07T21:19:36.1117098+07:00 0HM8HCACPFVLA:00000009 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:36.1118458+07:00 0HM8HCACPFVLA:00000009 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:36.1120071+07:00 0HM8HCACPFVLA:00000009 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 204 - - 0.3440ms (791a596a)
2021-05-07T21:19:36.1186967+07:00 0HM8HCACPFVLA:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:19:36.1188279+07:00 0HM8HCACPFVLA:0000000B [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:19:36.1194930+07:00 0HM8HCACPFVLA:0000000B [INF] Successfully validated the token. (60169667)
2021-05-07T21:19:36.1196043+07:00 0HM8HCACPFVLA:0000000B [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:19:36.1197305+07:00 0HM8HCACPFVLA:0000000B [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:19:36.1206607+07:00 0HM8HCACPFVLA:0000000B [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:19:36.1221510+07:00 0HM8HCACPFVLA:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:19:36.1242923+07:00 0HM8HCACPFVLA:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:19:36.1245958+07:00 0HM8HCACPFVLA:0000000B [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:19:36.1247536+07:00 0HM8HCACPFVLA:0000000B [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 4.9769ms (afa2e885)
2021-05-07T21:19:36.1248135+07:00 0HM8HCACPFVLA:0000000B [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:19:36.1249346+07:00 0HM8HCACPFVLA:0000000B [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 200 - application/json;+charset=utf-8 6.2673ms (791a596a)
2021-05-07T21:20:01.3108000+07:00 0HM8HCACPFVLA:0000000D [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:20:01.3109523+07:00 0HM8HCACPFVLA:0000000D [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:20:01.3114613+07:00 0HM8HCACPFVLA:0000000D [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 204 - - 0.6520ms (791a596a)
2021-05-07T21:20:01.3191954+07:00 0HM8HCACPFVLA:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - (ca22a1cb)
2021-05-07T21:20:01.3193043+07:00 0HM8HCACPFVLA:0000000F [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:20:01.3196113+07:00 0HM8HCACPFVLA:0000000F [INF] Successfully validated the token. (60169667)
2021-05-07T21:20:01.3199330+07:00 0HM8HCACPFVLA:0000000F [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:20:01.3201026+07:00 0HM8HCACPFVLA:0000000F [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:20:01.3212912+07:00 0HM8HCACPFVLA:0000000F [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:20:01.3424493+07:00 0HM8HCACPFVLA:0000000F [INF] Executed DbCommand ("20"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:20:01.3551263+07:00 0HM8HCACPFVLA:0000000F [INF] Executed DbCommand ("12"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:20:01.3554036+07:00 0HM8HCACPFVLA:0000000F [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:20:01.3555944+07:00 0HM8HCACPFVLA:0000000F [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 35.4533ms (afa2e885)
2021-05-07T21:20:01.3556553+07:00 0HM8HCACPFVLA:0000000F [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:20:01.3557794+07:00 0HM8HCACPFVLA:0000000F [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=raymond&Container=Inbox - - - 200 - application/json;+charset=utf-8 36.5994ms (791a596a)
2021-05-07T21:21:12.7721808+07:00  [INF] Application is shutting down... (90f52c38)
2021-05-07T21:22:18.8332889+07:00  [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:22:19.6539592+07:00  [INF] Executed DbCommand ("79"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:22:19.8228457+07:00  [INF] Executed DbCommand ("136"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:22:19.8302330+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:22:19.8312361+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:22:19.8515408+07:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2021-05-07T21:22:19.8805728+07:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2021-05-07T21:22:20.2132886+07:00  [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:22:20.2673018+07:00  [INF] User profile is available. Using '"C:\Users\NguyenKhanh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-05-07T21:22:20.6492639+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-05-07T21:22:20.6493986+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2021-05-07T21:22:20.6496298+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-05-07T21:22:20.6496786+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-05-07T21:22:20.6497166+07:00  [INF] Content root path: "C:\Users\NguyenKhanh\Desktop\ChatApp\ChatAppBE\chat-backend\api" (b5d60022)
2021-05-07T21:22:46.6419454+07:00  [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:22:47.7281930+07:00  [INF] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:22:47.8155539+07:00  [INF] Executed DbCommand ("60"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:22:47.8251871+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-05-07T21:22:47.8270639+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-05-07T21:22:47.8524964+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2021-05-07T21:22:47.8821387+07:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2021-05-07T21:22:48.1824041+07:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:22:48.2130003+07:00  [INF] User profile is available. Using '"C:\Users\NguyenKhanh\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-05-07T21:22:48.4543465+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-05-07T21:22:48.4544954+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2021-05-07T21:22:48.4547355+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-05-07T21:22:48.4547941+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-05-07T21:22:48.4548400+07:00  [INF] Content root path: "C:\Users\NguyenKhanh\Desktop\ChatApp\ChatAppBE\chat-backend\api" (b5d60022)
2021-05-07T21:57:25.5694015+07:00 0HM8HD1MI9LVU:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T21:57:25.6241438+07:00 0HM8HD1MI9LVU:00000002 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:57:25.6342975+07:00 0HM8HD1MI9LVU:00000002 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 68.0225ms (791a596a)
2021-05-07T21:57:25.6504781+07:00 0HM8HD1MI9LVU:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 102 (ca22a1cb)
2021-05-07T21:57:25.6542235+07:00 0HM8HD1MI9LVU:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:57:25.8864332+07:00 0HM8HD1MI9LVU:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T21:57:25.8891035+07:00 0HM8HD1MI9LVU:00000003 [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T21:57:25.9237061+07:00 0HM8HD1MI9LVU:00000003 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:57:26.2867718+07:00 0HM8HD1MI9LVU:00000003 [INF] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (605b4265)
2021-05-07T21:57:26.3522872+07:00 0HM8HD1MI9LVU:00000003 [INF] Executed action "api.Controllers.AccountController.Register (api)" in 416.3874ms (afa2e885)
2021-05-07T21:57:26.3524138+07:00 0HM8HD1MI9LVU:00000003 [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T21:57:26.3574254+07:00 0HM8HD1MI9LVU:00000003 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 102 - 400 - application/problem+json;+charset=utf-8 706.8915ms (791a596a)
2021-05-07T21:58:03.6072199+07:00 0HM8HD1MI9LVU:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T21:58:03.6079503+07:00 0HM8HD1MI9LVU:00000004 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:58:03.6082376+07:00 0HM8HD1MI9LVU:00000004 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 1.0408ms (791a596a)
2021-05-07T21:58:03.6114370+07:00 0HM8HD1MI9LVU:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 120 (ca22a1cb)
2021-05-07T21:58:03.6116830+07:00 0HM8HD1MI9LVU:00000005 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:58:03.6128766+07:00 0HM8HD1MI9LVU:00000005 [INF] Successfully validated the token. (60169667)
2021-05-07T21:58:03.6131202+07:00 0HM8HD1MI9LVU:00000005 [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T21:58:03.6136515+07:00 0HM8HD1MI9LVU:00000005 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:58:03.6367348+07:00 0HM8HD1MI9LVU:00000005 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:58:04.1633181+07:00 0HM8HD1MI9LVU:00000005 [INF] Executed DbCommand ("116"ms) [Parameters=["@__ToLower_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:58:04.3156985+07:00 0HM8HD1MI9LVU:00000005 [WRN] User password validation failed: "PasswordTooShort". (95aa5396)
2021-05-07T21:58:04.3291250+07:00 0HM8HD1MI9LVU:00000005 [INF] Executing "BadRequestObjectResult", writing value of type '"System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (605b4265)
2021-05-07T21:58:04.3430995+07:00 0HM8HD1MI9LVU:00000005 [INF] Executed action "api.Controllers.AccountController.Register (api)" in 729.1461ms (afa2e885)
2021-05-07T21:58:04.3448016+07:00 0HM8HD1MI9LVU:00000005 [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T21:58:04.3547358+07:00 0HM8HD1MI9LVU:00000005 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 120 - 400 - application/json;+charset=utf-8 743.3323ms (791a596a)
2021-05-07T21:58:19.7024281+07:00 0HM8HD1MI9LVU:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T21:58:19.7027079+07:00 0HM8HD1MI9LVU:00000006 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:58:19.7028682+07:00 0HM8HD1MI9LVU:00000006 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 0.4525ms (791a596a)
2021-05-07T21:58:19.7192095+07:00 0HM8HD1MI9LVU:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 124 (ca22a1cb)
2021-05-07T21:58:19.7193415+07:00 0HM8HD1MI9LVU:00000007 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:58:19.7218065+07:00 0HM8HD1MI9LVU:00000007 [INF] Successfully validated the token. (60169667)
2021-05-07T21:58:19.7218854+07:00 0HM8HD1MI9LVU:00000007 [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T21:58:19.7219949+07:00 0HM8HD1MI9LVU:00000007 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:58:19.8292751+07:00 0HM8HD1MI9LVU:00000007 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:58:19.8716184+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("36"ms) [Parameters=["@__ToLower_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:58:20.0393646+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("72"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:58:20.6128224+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("71"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:58:20.7339770+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:58:20.7820773+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:58:20.7881065+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:58:20.8202310+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:58:20.8476098+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:58:20.8602522+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:58:20.9289214+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T21:58:20.9507880+07:00 0HM8HD1MI9LVU:00000007 [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T21:58:20.9534896+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed action "api.Controllers.AccountController.Register (api)" in 1231.4449ms (afa2e885)
2021-05-07T21:58:20.9536113+07:00 0HM8HD1MI9LVU:00000007 [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T21:58:20.9538431+07:00 0HM8HD1MI9LVU:00000007 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 124 - 200 - application/json;+charset=utf-8 1234.6325ms (791a596a)
2021-05-07T21:59:21.7452237+07:00 0HM8HD1MI9LVU:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T21:59:21.7456945+07:00 0HM8HD1MI9LVU:00000008 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:21.7458801+07:00 0HM8HD1MI9LVU:00000008 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 0.9932ms (791a596a)
2021-05-07T21:59:21.7488116+07:00 0HM8HD1MI9LVU:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 128 (ca22a1cb)
2021-05-07T21:59:21.7489475+07:00 0HM8HD1MI9LVU:00000009 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:21.7494424+07:00 0HM8HD1MI9LVU:00000009 [INF] Successfully validated the token. (60169667)
2021-05-07T21:59:21.7495464+07:00 0HM8HD1MI9LVU:00000009 [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T21:59:21.7497897+07:00 0HM8HD1MI9LVU:00000009 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:59:21.7507870+07:00 0HM8HD1MI9LVU:00000009 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:59:21.7564795+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__ToLower_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T21:59:21.7817402+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:59:21.7928898+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [City], [ConcurrencyStamp], [Country], [Created], [DateOfBirth], [Email], [EmailConfirmed], [Gender], [Interests], [Introduction], [KnownAs], [LastActive], [LockoutEnabled], [LockoutEnd], [LookingFor], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [Id]
FROM [AspNetUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-05-07T21:59:21.8176093+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:59:21.8224195+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)" (0723d8ff)
2021-05-07T21:59:21.8252544+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2021-05-07T21:59:21.8273989+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-05-07T21:59:21.8313297+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-05-07T21:59:21.8418447+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("10"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p25='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [City] = @p1, [ConcurrencyStamp] = @p2, [Country] = @p3, [Created] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [Gender] = @p8, [Interests] = @p9, [Introduction] = @p10, [KnownAs] = @p11, [LastActive] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [LookingFor] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [PhoneNumber] = @p19, [PhoneNumberConfirmed] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-05-07T21:59:21.8482626+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T21:59:21.8489968+07:00 0HM8HD1MI9LVU:00000009 [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T21:59:21.8492101+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed action "api.Controllers.AccountController.Register (api)" in 99.3583ms (afa2e885)
2021-05-07T21:59:21.8492816+07:00 0HM8HD1MI9LVU:00000009 [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T21:59:21.8494651+07:00 0HM8HD1MI9LVU:00000009 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 128 - 200 - application/json;+charset=utf-8 100.6696ms (791a596a)
2021-05-07T21:59:43.5975138+07:00 0HM8HD1MI9LVU:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - (ca22a1cb)
2021-05-07T21:59:43.5976689+07:00 0HM8HD1MI9LVU:0000000A [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:43.5978172+07:00 0HM8HD1MI9LVU:0000000A [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - - 204 - - 0.3147ms (791a596a)
2021-05-07T21:59:43.6005961+07:00 0HM8HD1MI9LVU:0000000B [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 (ca22a1cb)
2021-05-07T21:59:43.6007153+07:00 0HM8HD1MI9LVU:0000000B [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:43.6010671+07:00 0HM8HD1MI9LVU:0000000B [INF] Successfully validated the token. (60169667)
2021-05-07T21:59:43.6011502+07:00 0HM8HD1MI9LVU:0000000B [INF] Executing endpoint '"api.Controllers.AccountController.Login (api)"' (500cc934)
2021-05-07T21:59:43.6093452+07:00 0HM8HD1MI9LVU:0000000B [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Login(api.DTO.LoginDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T21:59:43.6173925+07:00 0HM8HD1MI9LVU:0000000B [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:59:43.7415101+07:00 0HM8HD1MI9LVU:0000000B [INF] Executed DbCommand ("23"ms) [Parameters=["@__loginDto_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[AccessFailedCount], [t].[City], [t].[ConcurrencyStamp], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[LookingFor], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [p].[Id], [p].[AppUsersId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__loginDto_Username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUsersId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-05-07T21:59:43.7930849+07:00 0HM8HD1MI9LVU:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T21:59:43.7943708+07:00 0HM8HD1MI9LVU:0000000B [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T21:59:43.7945820+07:00 0HM8HD1MI9LVU:0000000B [INF] Executed action "api.Controllers.AccountController.Login (api)" in 185.1806ms (afa2e885)
2021-05-07T21:59:43.7946318+07:00 0HM8HD1MI9LVU:0000000B [INF] Executed endpoint '"api.Controllers.AccountController.Login (api)"' (99874f2b)
2021-05-07T21:59:43.7947905+07:00 0HM8HD1MI9LVU:0000000B [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 - 200 - application/json;+charset=utf-8 194.1911ms (791a596a)
2021-05-07T21:59:43.9794860+07:00 0HM8HD1MI9LVV:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T21:59:43.9796313+07:00 0HM8HD1MI9LVV:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:43.9836507+07:00 0HM8HD1MI9LVV:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 4.0921ms (791a596a)
2021-05-07T21:59:43.9869475+07:00 0HM8HD1MI9LVV:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T21:59:43.9870719+07:00 0HM8HD1MI9LVV:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T21:59:43.9872821+07:00 0HM8HD1MI9LVV:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T21:59:43.9873533+07:00 0HM8HD1MI9LVV:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T21:59:43.9968623+07:00 0HM8HD1MI9LVV:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T21:59:44.0140236+07:00 0HM8HD1MI9LVV:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T21:59:44.0539545+07:00 0HM8HD1MI9LVV:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T21:59:44.0843730+07:00 0HM8HD1MI9LVV:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T21:59:44.0907958+07:00 0HM8HD1MI9LVV:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T21:59:44.0944338+07:00 0HM8HD1MI9LVV:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 97.5054ms (afa2e885)
2021-05-07T21:59:44.0944883+07:00 0HM8HD1MI9LVV:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T21:59:44.0950086+07:00 0HM8HD1MI9LVV:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 107.9887ms (791a596a)
2021-05-07T22:00:10.8975414+07:00 0HM8HD1MI9LVU:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - (ca22a1cb)
2021-05-07T22:00:10.8992697+07:00 0HM8HD1MI9LVU:0000000C [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:10.8994351+07:00 0HM8HD1MI9LVU:0000000C [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - - 204 - - 1.9159ms (791a596a)
2021-05-07T22:00:10.9022722+07:00 0HM8HD1MI9LVU:0000000D [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 (ca22a1cb)
2021-05-07T22:00:10.9023826+07:00 0HM8HD1MI9LVU:0000000D [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:10.9028362+07:00 0HM8HD1MI9LVU:0000000D [INF] Successfully validated the token. (60169667)
2021-05-07T22:00:10.9029294+07:00 0HM8HD1MI9LVU:0000000D [INF] Executing endpoint '"api.Controllers.AccountController.Login (api)"' (500cc934)
2021-05-07T22:00:10.9039370+07:00 0HM8HD1MI9LVU:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Login(api.DTO.LoginDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T22:00:10.9057546+07:00 0HM8HD1MI9LVU:0000000D [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:00:10.9109476+07:00 0HM8HD1MI9LVU:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__loginDto_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[AccessFailedCount], [t].[City], [t].[ConcurrencyStamp], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[LookingFor], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [p].[Id], [p].[AppUsersId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__loginDto_Username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUsersId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-05-07T22:00:10.9353400+07:00 0HM8HD1MI9LVU:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T22:00:10.9358973+07:00 0HM8HD1MI9LVU:0000000D [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T22:00:10.9360800+07:00 0HM8HD1MI9LVU:0000000D [INF] Executed action "api.Controllers.AccountController.Login (api)" in 32.0882ms (afa2e885)
2021-05-07T22:00:10.9361206+07:00 0HM8HD1MI9LVU:0000000D [INF] Executed endpoint '"api.Controllers.AccountController.Login (api)"' (99874f2b)
2021-05-07T22:00:10.9371298+07:00 0HM8HD1MI9LVU:0000000D [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 - 200 - application/json;+charset=utf-8 33.9874ms (791a596a)
2021-05-07T22:00:11.0100217+07:00 0HM8HD1MI9LVV:00000005 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:00:11.0102048+07:00 0HM8HD1MI9LVV:00000005 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:11.0104424+07:00 0HM8HD1MI9LVV:00000005 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.4045ms (791a596a)
2021-05-07T22:00:11.0158738+07:00 0HM8HD1MI9LVV:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:00:11.0159656+07:00 0HM8HD1MI9LVV:00000007 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:11.0162252+07:00 0HM8HD1MI9LVV:00000007 [INF] Successfully validated the token. (60169667)
2021-05-07T22:00:11.0163205+07:00 0HM8HD1MI9LVV:00000007 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:00:11.0164237+07:00 0HM8HD1MI9LVV:00000007 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:00:11.0179625+07:00 0HM8HD1MI9LVV:00000007 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:00:11.0257753+07:00 0HM8HD1MI9LVV:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:00:11.0361734+07:00 0HM8HD1MI9LVV:00000007 [INF] Executed DbCommand ("10"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:00:11.0373346+07:00 0HM8HD1MI9LVV:00000007 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:00:11.0376938+07:00 0HM8HD1MI9LVV:00000007 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 21.1579ms (afa2e885)
2021-05-07T22:00:11.0377455+07:00 0HM8HD1MI9LVV:00000007 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:00:11.0379061+07:00 0HM8HD1MI9LVV:00000007 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 22.0696ms (791a596a)
2021-05-07T22:00:37.0254549+07:00 0HM8HD1MI9LVU:0000000E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T22:00:37.0257220+07:00 0HM8HD1MI9LVU:0000000E [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:37.0261758+07:00 0HM8HD1MI9LVU:0000000E [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 0.6276ms (791a596a)
2021-05-07T22:00:37.0286038+07:00 0HM8HD1MI9LVU:0000000F [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 109 (ca22a1cb)
2021-05-07T22:00:37.0287698+07:00 0HM8HD1MI9LVU:0000000F [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:37.0297515+07:00 0HM8HD1MI9LVU:0000000F [INF] Successfully validated the token. (60169667)
2021-05-07T22:00:37.0299241+07:00 0HM8HD1MI9LVU:0000000F [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T22:00:37.0302165+07:00 0HM8HD1MI9LVU:0000000F [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T22:00:37.2088692+07:00 0HM8HD1MI9LVU:0000000F [INF] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (605b4265)
2021-05-07T22:00:37.2102235+07:00 0HM8HD1MI9LVU:0000000F [INF] Executed action "api.Controllers.AccountController.Register (api)" in 179.7856ms (afa2e885)
2021-05-07T22:00:37.2104582+07:00 0HM8HD1MI9LVU:0000000F [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T22:00:37.2110130+07:00 0HM8HD1MI9LVU:0000000F [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 109 - 400 - application/problem+json;+charset=utf-8 182.2355ms (791a596a)
2021-05-07T22:00:59.1557888+07:00 0HM8HD1MI9LVU:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - (ca22a1cb)
2021-05-07T22:00:59.1560568+07:00 0HM8HD1MI9LVU:00000010 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:59.1561969+07:00 0HM8HD1MI9LVU:00000010 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/register - - - 204 - - 0.3852ms (791a596a)
2021-05-07T22:00:59.1590009+07:00 0HM8HD1MI9LVU:00000011 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 123 (ca22a1cb)
2021-05-07T22:00:59.1591167+07:00 0HM8HD1MI9LVU:00000011 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:00:59.1594425+07:00 0HM8HD1MI9LVU:00000011 [INF] Successfully validated the token. (60169667)
2021-05-07T22:00:59.1595120+07:00 0HM8HD1MI9LVU:00000011 [INF] Executing endpoint '"api.Controllers.AccountController.Register (api)"' (500cc934)
2021-05-07T22:00:59.1596622+07:00 0HM8HD1MI9LVU:00000011 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Register(api.DTO.RegisterDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T22:00:59.1612946+07:00 0HM8HD1MI9LVU:00000011 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:00:59.1691674+07:00 0HM8HD1MI9LVU:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__ToLower_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-05-07T22:00:59.1698119+07:00 0HM8HD1MI9LVU:00000011 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2021-05-07T22:00:59.1704525+07:00 0HM8HD1MI9LVU:00000011 [INF] Executed action "api.Controllers.AccountController.Register (api)" in 10.6987ms (afa2e885)
2021-05-07T22:00:59.1711283+07:00 0HM8HD1MI9LVU:00000011 [INF] Executed endpoint '"api.Controllers.AccountController.Register (api)"' (99874f2b)
2021-05-07T22:00:59.1716681+07:00 0HM8HD1MI9LVU:00000011 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/register application/json;charset=UTF-8 123 - 400 - text/plain;+charset=utf-8 12.6735ms (791a596a)
2021-05-07T22:04:53.2287150+07:00 0HM8HD1MI9M00:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - (ca22a1cb)
2021-05-07T22:04:53.2290788+07:00 0HM8HD1MI9M00:00000002 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:04:53.2292569+07:00 0HM8HD1MI9M00:00000002 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - - 204 - - 0.5718ms (791a596a)
2021-05-07T22:04:53.2393825+07:00 0HM8HD1MI9M00:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 (ca22a1cb)
2021-05-07T22:04:53.2395264+07:00 0HM8HD1MI9M00:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:04:53.2398919+07:00 0HM8HD1MI9M00:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T22:04:53.2403628+07:00 0HM8HD1MI9M00:00000003 [INF] Executing endpoint '"api.Controllers.AccountController.Login (api)"' (500cc934)
2021-05-07T22:04:53.2405564+07:00 0HM8HD1MI9M00:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Login(api.DTO.LoginDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T22:04:53.2419935+07:00 0HM8HD1MI9M00:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:04:53.2756568+07:00 0HM8HD1MI9M00:00000003 [INF] Executed DbCommand ("32"ms) [Parameters=["@__loginDto_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[AccessFailedCount], [t].[City], [t].[ConcurrencyStamp], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[LookingFor], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [p].[Id], [p].[AppUsersId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__loginDto_Username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUsersId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-05-07T22:04:53.3019190+07:00 0HM8HD1MI9M00:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T22:04:53.3028283+07:00 0HM8HD1MI9M00:00000003 [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T22:04:53.3029934+07:00 0HM8HD1MI9M00:00000003 [INF] Executed action "api.Controllers.AccountController.Login (api)" in 62.4009ms (afa2e885)
2021-05-07T22:04:53.3030244+07:00 0HM8HD1MI9M00:00000003 [INF] Executed endpoint '"api.Controllers.AccountController.Login (api)"' (99874f2b)
2021-05-07T22:04:53.3031138+07:00 0HM8HD1MI9M00:00000003 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 - 200 - application/json;+charset=utf-8 63.7288ms (791a596a)
2021-05-07T22:04:53.4493926+07:00 0HM8HD1MI9M01:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:04:53.4494986+07:00 0HM8HD1MI9M01:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:04:53.4497406+07:00 0HM8HD1MI9M01:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.3577ms (791a596a)
2021-05-07T22:04:53.4540802+07:00 0HM8HD1MI9M01:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:04:53.4543068+07:00 0HM8HD1MI9M01:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:04:53.4546159+07:00 0HM8HD1MI9M01:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T22:04:53.4546804+07:00 0HM8HD1MI9M01:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:04:53.4549602+07:00 0HM8HD1MI9M01:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:04:53.4589396+07:00 0HM8HD1MI9M01:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:04:53.4784746+07:00 0HM8HD1MI9M01:00000003 [INF] Executed DbCommand ("18"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:04:53.4911752+07:00 0HM8HD1MI9M01:00000003 [INF] Executed DbCommand ("12"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:04:53.4915870+07:00 0HM8HD1MI9M01:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:04:53.4918405+07:00 0HM8HD1MI9M01:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 36.839ms (afa2e885)
2021-05-07T22:04:53.4918849+07:00 0HM8HD1MI9M01:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:04:53.4919982+07:00 0HM8HD1MI9M01:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 37.9665ms (791a596a)
2021-05-07T22:10:33.4998150+07:00 0HM8HD1MI9M02:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - (ca22a1cb)
2021-05-07T22:10:33.4999460+07:00 0HM8HD1MI9M02:00000002 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:10:33.5000687+07:00 0HM8HD1MI9M02:00000002 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - - - 204 - - 0.2962ms (791a596a)
2021-05-07T22:10:33.5028035+07:00 0HM8HD1MI9M02:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 (ca22a1cb)
2021-05-07T22:10:33.5029022+07:00 0HM8HD1MI9M02:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:10:33.5033713+07:00 0HM8HD1MI9M02:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T22:10:33.5034444+07:00 0HM8HD1MI9M02:00000003 [INF] Executing endpoint '"api.Controllers.AccountController.Login (api)"' (500cc934)
2021-05-07T22:10:33.5036042+07:00 0HM8HD1MI9M02:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[api.DTO.UserDto]] Login(api.DTO.LoginDto)" on controller "api.Controllers.AccountController" ("api"). (122b2fdf)
2021-05-07T22:10:33.5049171+07:00 0HM8HD1MI9M02:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:10:33.9301603+07:00 0HM8HD1MI9M02:00000003 [INF] Executed DbCommand ("23"ms) [Parameters=["@__loginDto_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[AccessFailedCount], [t].[City], [t].[ConcurrencyStamp], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Email], [t].[EmailConfirmed], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[LookingFor], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [p].[Id], [p].[AppUsersId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[Created], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[Gender], [a].[Interests], [a].[Introduction], [a].[KnownAs], [a].[LastActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LookingFor], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__loginDto_Username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUsersId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-05-07T22:10:33.9849032+07:00 0HM8HD1MI9M02:00000003 [INF] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2021-05-07T22:10:33.9856082+07:00 0HM8HD1MI9M02:00000003 [INF] Executing "ObjectResult", writing value of type '"api.DTO.UserDto"'. (605b4265)
2021-05-07T22:10:33.9858599+07:00 0HM8HD1MI9M02:00000003 [INF] Executed action "api.Controllers.AccountController.Login (api)" in 482.1774ms (afa2e885)
2021-05-07T22:10:33.9859357+07:00 0HM8HD1MI9M02:00000003 [INF] Executed endpoint '"api.Controllers.AccountController.Login (api)"' (99874f2b)
2021-05-07T22:10:33.9860609+07:00 0HM8HD1MI9M02:00000003 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login application/json;charset=UTF-8 48 - 200 - application/json;+charset=utf-8 483.2782ms (791a596a)
2021-05-07T22:10:34.0725790+07:00 0HM8HD1MI9M03:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:10:34.0726660+07:00 0HM8HD1MI9M03:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:10:34.0728234+07:00 0HM8HD1MI9M03:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.2443ms (791a596a)
2021-05-07T22:10:34.0900230+07:00 0HM8HD1MI9M03:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:10:34.0901069+07:00 0HM8HD1MI9M03:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:10:34.0902927+07:00 0HM8HD1MI9M03:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T22:10:34.0903396+07:00 0HM8HD1MI9M03:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:10:34.0904224+07:00 0HM8HD1MI9M03:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:10:34.0921187+07:00 0HM8HD1MI9M03:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:10:34.1022083+07:00 0HM8HD1MI9M03:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:10:34.1126975+07:00 0HM8HD1MI9M03:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:10:34.1131806+07:00 0HM8HD1MI9M03:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:10:34.1134953+07:00 0HM8HD1MI9M03:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 23.0223ms (afa2e885)
2021-05-07T22:10:34.1135698+07:00 0HM8HD1MI9M03:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:10:34.1136946+07:00 0HM8HD1MI9M03:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 23.6672ms (791a596a)
2021-05-07T22:11:24.7430121+07:00 0HM8HD1MI9M03:00000005 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:11:24.7431449+07:00 0HM8HD1MI9M03:00000005 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:11:24.7432940+07:00 0HM8HD1MI9M03:00000005 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.3014ms (791a596a)
2021-05-07T22:11:24.7905448+07:00 0HM8HD1MI9M03:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:11:24.7906196+07:00 0HM8HD1MI9M03:00000007 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:11:24.7908375+07:00 0HM8HD1MI9M03:00000007 [INF] Successfully validated the token. (60169667)
2021-05-07T22:11:24.7908911+07:00 0HM8HD1MI9M03:00000007 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:11:24.7909802+07:00 0HM8HD1MI9M03:00000007 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:11:24.7917567+07:00 0HM8HD1MI9M03:00000007 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:11:24.8440690+07:00 0HM8HD1MI9M03:00000007 [INF] Executed DbCommand ("51"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:11:24.8516339+07:00 0HM8HD1MI9M03:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:11:24.8520895+07:00 0HM8HD1MI9M03:00000007 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:11:24.8522721+07:00 0HM8HD1MI9M03:00000007 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 61.2638ms (afa2e885)
2021-05-07T22:11:24.8523400+07:00 0HM8HD1MI9M03:00000007 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:11:24.8524531+07:00 0HM8HD1MI9M03:00000007 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 61.9110ms (791a596a)
2021-05-07T22:13:40.3598250+07:00 0HM8HD1MI9M04:00000001 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:13:40.3599981+07:00 0HM8HD1MI9M04:00000001 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:13:40.3604384+07:00 0HM8HD1MI9M04:00000001 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.6186ms (791a596a)
2021-05-07T22:13:40.3658054+07:00 0HM8HD1MI9M04:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:13:40.3661830+07:00 0HM8HD1MI9M04:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:13:40.3665481+07:00 0HM8HD1MI9M04:00000003 [INF] Successfully validated the token. (60169667)
2021-05-07T22:13:40.3666177+07:00 0HM8HD1MI9M04:00000003 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:13:40.3668075+07:00 0HM8HD1MI9M04:00000003 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:13:40.3675565+07:00 0HM8HD1MI9M04:00000003 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:13:40.3984367+07:00 0HM8HD1MI9M04:00000003 [INF] Executed DbCommand ("30"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:13:40.4140345+07:00 0HM8HD1MI9M04:00000003 [INF] Executed DbCommand ("15"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:13:40.4143199+07:00 0HM8HD1MI9M04:00000003 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:13:40.4145099+07:00 0HM8HD1MI9M04:00000003 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 47.6621ms (afa2e885)
2021-05-07T22:13:40.4145834+07:00 0HM8HD1MI9M04:00000003 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:13:40.4147687+07:00 0HM8HD1MI9M04:00000003 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 48.9605ms (791a596a)
2021-05-07T22:14:05.9553161+07:00 0HM8HD1MI9M04:00000005 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:14:05.9556638+07:00 0HM8HD1MI9M04:00000005 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:14:05.9559146+07:00 0HM8HD1MI9M04:00000005 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.5942ms (791a596a)
2021-05-07T22:14:05.9590720+07:00 0HM8HD1MI9M04:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:14:05.9591441+07:00 0HM8HD1MI9M04:00000007 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:14:05.9594487+07:00 0HM8HD1MI9M04:00000007 [INF] Successfully validated the token. (60169667)
2021-05-07T22:14:05.9596495+07:00 0HM8HD1MI9M04:00000007 [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:14:05.9600448+07:00 0HM8HD1MI9M04:00000007 [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:14:05.9615730+07:00 0HM8HD1MI9M04:00000007 [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:14:05.9709461+07:00 0HM8HD1MI9M04:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:14:05.9856638+07:00 0HM8HD1MI9M04:00000007 [INF] Executed DbCommand ("14"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:14:05.9859808+07:00 0HM8HD1MI9M04:00000007 [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:14:05.9861426+07:00 0HM8HD1MI9M04:00000007 [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 26.0195ms (afa2e885)
2021-05-07T22:14:05.9862035+07:00 0HM8HD1MI9M04:00000007 [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:14:05.9863072+07:00 0HM8HD1MI9M04:00000007 [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 27.2343ms (791a596a)
2021-05-07T22:14:43.4162146+07:00 0HM8HD1MI9M04:00000009 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:14:43.4173396+07:00 0HM8HD1MI9M04:00000009 [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:14:43.4175738+07:00 0HM8HD1MI9M04:00000009 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 1.3334ms (791a596a)
2021-05-07T22:14:43.4272041+07:00 0HM8HD1MI9M04:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:14:43.4272733+07:00 0HM8HD1MI9M04:0000000B [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:14:43.4274902+07:00 0HM8HD1MI9M04:0000000B [INF] Successfully validated the token. (60169667)
2021-05-07T22:14:43.4275518+07:00 0HM8HD1MI9M04:0000000B [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:14:43.4276442+07:00 0HM8HD1MI9M04:0000000B [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:14:43.4284137+07:00 0HM8HD1MI9M04:0000000B [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:14:43.4383887+07:00 0HM8HD1MI9M04:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:14:43.4405543+07:00 0HM8HD1MI9M04:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:14:43.4409389+07:00 0HM8HD1MI9M04:0000000B [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:14:43.4410895+07:00 0HM8HD1MI9M04:0000000B [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 13.4141ms (afa2e885)
2021-05-07T22:14:43.4411169+07:00 0HM8HD1MI9M04:0000000B [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:14:43.4412073+07:00 0HM8HD1MI9M04:0000000B [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 14.0132ms (791a596a)
2021-05-07T22:15:39.5340921+07:00 0HM8HD1MI9M04:0000000D [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:15:39.5342178+07:00 0HM8HD1MI9M04:0000000D [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:15:39.5344518+07:00 0HM8HD1MI9M04:0000000D [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 204 - - 0.3814ms (791a596a)
2021-05-07T22:15:39.5383438+07:00 0HM8HD1MI9M04:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - (ca22a1cb)
2021-05-07T22:15:39.5384129+07:00 0HM8HD1MI9M04:0000000F [INF] CORS policy execution successful. (5409d6ef)
2021-05-07T22:15:39.5386606+07:00 0HM8HD1MI9M04:0000000F [INF] Successfully validated the token. (60169667)
2021-05-07T22:15:39.5388041+07:00 0HM8HD1MI9M04:0000000F [INF] Executing endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (500cc934)
2021-05-07T22:15:39.5389891+07:00 0HM8HD1MI9M04:0000000F [INF] Route matched with "{action = \"GetMessagesForUser\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[api.DTO.MessageDto]]] GetMessagesForUser(api.Helpers.MessageParam)" on controller "api.Controllers.MessagesController" ("api"). (122b2fdf)
2021-05-07T22:15:39.5404090+07:00 0HM8HD1MI9M04:0000000F [INF] Entity Framework Core "5.0.3" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-05-07T22:15:39.5611320+07:00 0HM8HD1MI9M04:0000000F [INF] Executed DbCommand ("20"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))" (0723d8ff)
2021-05-07T22:15:39.5848132+07:00 0HM8HD1MI9M04:0000000F [INF] Executed DbCommand ("23"ms) [Parameters=["@__messageParam_Username_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[SenderId], [t].[SenderUsername], (
    SELECT TOP(1) [p].[Url]
    FROM [Photos] AS [p]
    WHERE ([a0].[Id] = [p].[AppUsersId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [SenderPhotoUrl], [t].[RecipientId], [t].[RecipientUsername], (
    SELECT TOP(1) [p0].[Url]
    FROM [Photos] AS [p0]
    WHERE ([t].[Id0] = [p0].[AppUsersId]) AND ([p0].[IsMain] = CAST(1 AS bit))) AS [RecipientPhotoUrl], [t].[Content], [t].[DateRead], [t].[MessageSent]
FROM (
    SELECT [m].[Id], [m].[Content], [m].[DateRead], [m].[MessageSent], [m].[RecipientId], [m].[RecipientUsername], [m].[SenderId], [m].[SenderUsername], [a].[Id] AS [Id0]
    FROM [Messages] AS [m]
    INNER JOIN [AspNetUsers] AS [a] ON [m].[RecipientId] = [a].[Id]
    WHERE ([a].[UserName] = @__messageParam_Username_0) AND ([m].[RecipientDeleted] <> CAST(1 AS bit))
    ORDER BY [m].[MessageSent] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [AspNetUsers] AS [a0] ON [t].[SenderId] = [a0].[Id]
ORDER BY [t].[MessageSent] DESC" (0723d8ff)
2021-05-07T22:15:39.5852322+07:00 0HM8HD1MI9M04:0000000F [INF] Executing "ObjectResult", writing value of type '"api.Helpers.PageList`1[[api.DTO.MessageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-05-07T22:15:39.5854750+07:00 0HM8HD1MI9M04:0000000F [INF] Executed action "api.Controllers.MessagesController.GetMessagesForUser (api)" in 46.4323ms (afa2e885)
2021-05-07T22:15:39.5858231+07:00 0HM8HD1MI9M04:0000000F [INF] Executed endpoint '"api.Controllers.MessagesController.GetMessagesForUser (api)"' (99874f2b)
2021-05-07T22:15:39.5859539+07:00 0HM8HD1MI9M04:0000000F [INF] Request finished HTTP/2 GET https://localhost:5001/api/messages?Username=nguyenkhanh&Container=Inbox - - - 200 - application/json;+charset=utf-8 47.5957ms (791a596a)
2021-05-07T22:17:49.9857597+07:00  [INF] Application is shutting down... (90f52c38)
